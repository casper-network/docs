<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Delegating with the Command-line | Casper</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://operators.casper.network//docs/workflow/delegate"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Delegating with the Command-line | Casper"><meta data-react-helmet="true" name="description" content="This document details a workflow where an account holder on the Casper Network can delegate their tokens to a validator on a Casper Network."><meta data-react-helmet="true" property="og:description" content="This document details a workflow where an account holder on the Casper Network can delegate their tokens to a validator on a Casper Network."><link data-react-helmet="true" rel="shortcut icon" href="/docs/image/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://operators.casper.network//docs/workflow/delegate"><link data-react-helmet="true" rel="alternate" href="https://operators.casper.network//docs/workflow/delegate" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://operators.casper.network//docs/workflow/delegate" hreflang="x-default"><link rel="stylesheet" href="/docs/assets/css/styles.cb2bace2.css">
<link rel="preload" href="/docs/assets/js/runtime~main.ebfc6a74.js" as="script">
<link rel="preload" href="/docs/assets/js/main.b9eb2654.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><img src="/docs/icon/logo-dark.svg" alt="Casper Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/docs/icon/logo-white.svg" alt="Casper Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/workflow">How To&#x27;s</a><a class="navbar__item navbar__link" href="/docs/dapp-dev-guide">Developers</a><a class="navbar__item navbar__link" href="/docs/operators">Operators</a><a class="navbar__item navbar__link" href="/docs/design">Design</a><a class="navbar__item navbar__link" href="/docs/economics">Economics</a><a class="navbar__item navbar__link" href="/docs/staking">Staking</a><a class="navbar__item navbar__link" href="/docs/glossary">Glossary</a><a class="navbar__item navbar__link" href="/docs/faq">FAQ</a><a href="https://discord.gg/casperblockchain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_3vod"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/workflow/delegate" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li></ul></div><a href="https://github.com/casper-network/docs-app" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒ™</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/workflow">Overview</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/workflow/staking">How to Stake your CSPR</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/workflow/ledger-setup">Ledger Setup</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/workflow/signer-guide">Casper Signer User Guide</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/workflow/token-transfer">Transferring Tokens on the Casper Testnet</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/workflow/setup">Prerequisites</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/workflow/querying">Querying the Network</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/workflow/account-hash">Account Hash</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/workflow/two-party-multi-sig">Two-Party Multi-Signature Deploys</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Transferring Tokens</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/workflow/delegate">Delegating with the Command-line</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/workflow/undelegate">Undelegating Tokens</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ERC-20 Sample Guide</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Delegating with the Command-line</h1></header><p>This document details a workflow where an account holder on the Casper Network can delegate their tokens to a validator on a Casper Network.</p><p>This workflow assumes:</p><ol><li>You meet the <a href="/docs/workflow/setup">prerequisites</a></li><li>You are using the Casper command-line client</li><li>You have the public key of a validator on a Casper Network</li><li>You have the delegation contract or WASM to execute on the network</li><li>You have a valid <code>node-address</code></li><li>You have previously <a href="/docs/dapp-dev-guide/deploying-contracts">deployed a smart contract</a> to a Casper Network</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="building-the-delegation-wasm"></a>Building The Delegation WASM<a class="hash-link" href="#building-the-delegation-wasm" title="Direct link to heading">#</a></h2><p>Obtain the <code>delegate.wasm</code> by cloning the <a href="https://github.com/casper-network/casper-node" target="_blank" rel="noopener noreferrer">casper-node</a> repository and building the contracts.</p><p>To build contracts, set up Rust, and install all dependencies. Visit <a href="/docs/dapp-dev-guide/getting-started">Setting up Rust</a> in the Developer Guide for step-by-step instructions.</p><p>Once you build the contracts, you can use the <code>delegate.wasm</code> to create a deploy that will initiate the delegation process. The WASM can be found in:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">target/wasm32-unknown-unknown/release</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="acquiring-a-validators-public-key"></a>Acquiring a Validator&#x27;s Public Key<a class="hash-link" href="#acquiring-a-validators-public-key" title="Direct link to heading">#</a></h2><p>The official Testnet and Mainnet provide a browser-based block explorer to look up the list of validators within their respective networks:</p><ol><li><a href="https://cspr.live/validators" target="_blank" rel="noopener noreferrer">Validators on Mainnet</a></li><li><a href="https://testnet.cspr.live/validators" target="_blank" rel="noopener noreferrer">Validators on Testnet</a></li></ol><p>You will see a list of validators present on the network and their total stake (including tokens from other delegators).</p><p>You can click on any validator listed to see more information about the validator, including the validator&#x27;s personal stake.</p><p>Each validator will show the delegation rate (commission); this represents the percentage of <strong>your</strong> reward share that the validator will retain. Thus, a 10% rate implies that the validator will retain 10% of your reward share. As a prospective delegator, selecting a validating node that you can trust and offers a favorable delegation rate is essential. Please do your due diligence before you stake your tokens with a validator.</p><p>Note the <code>PublicKey</code> of the validator you have selected to delegate your tokens.</p><p>If you observe your delegation request in the bid structure but do not see the associated validator key in the <code>era_validators</code> structure, the validator you selected is not part of the current validator set. In this event, your tokens will not be earning rewards unless you un-delegate, wait through the unbonding period, and re-delegate to another validator.</p><p>Additionally, any rewards earned are re-delegated by default to the validator from the initial delegation request. Therefore at the time of un-delegation, you may want to un-delegate the initial amount plus any additional rewards earned through the delegation process.</p><p>The active validator set is constantly rotating; therefore, when delegating to a validator, remember that the validator you selected may have been rotated out of the set.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="executing-the-delegation-request"></a>Executing the Delegation Request<a class="hash-link" href="#executing-the-delegation-request" title="Direct link to heading">#</a></h2><p>We recommend first testing the following steps on our official Testnet before performing these steps in a live environment like the Casper Mainnet.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="sending-the-delegation-deploy"></a>Sending the Delegation Deploy<a class="hash-link" href="#sending-the-delegation-deploy" title="Direct link to heading">#</a></h3><p>Send a deploy containing the <code>delegate.wasm</code> to the network to initiate the delegation process. Here is an example deployment of the delegation request:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client put-deploy </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">--node-address http://</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">peer-ip-address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:7777/rpc </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">--chain-name casper </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-path </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">path-to-wasm</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/delegate.wasm </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">--payment-amount </span><span class="token number" style="color:#36acaa">5000000000</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg </span><span class="token string" style="color:#e3116c">&quot;validator:public_key=&#x27;&lt;hex-encoded-validator-public-key&gt;&#x27;&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg </span><span class="token string" style="color:#e3116c">&quot;amount:u512=&#x27;&lt;amount-to-delegate&gt;&#x27;&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">--session-arg </span><span class="token string" style="color:#e3116c">&quot;delegator:public_key=&#x27;&lt;hex-encoded-public-key&gt;&#x27;&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">--secret-key </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">delegator-secret-key</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">.pem</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>Note</strong> The delegator&#x27;s public key and the secret key that signs the deploy must be part of the same key pair.</p><p><strong>Request fields:</strong></p><ul><li><p><code>node-address</code> - &lt;HOST:PORT&gt; Hostname or IP and port of node on which HTTP service is running [default:<a href="http://localhost:7777" target="_blank" rel="noopener noreferrer">http://localhost:7777</a>]</p></li><li><p><code>secret-key</code> - Path to secret key file</p></li><li><p><code>chain-name</code> - Name of the chain, to avoid the deploy from being accidentally or maliciously included in a different chain</p><ul><li>The <em>chain-name</em> for testnet is <strong>casper-test</strong></li><li>The <em>chain-name</em> for mainnet is <strong>casper</strong></li></ul></li><li><p><code>session-path</code> - The path to where the <code>delegate.wasm</code> is located</p></li><li><p><code>session-arg</code> - The arguments to the <code>delegate</code> execution</p><ul><li>The argument <code>validator</code> is the public key of the validator to whom the tokens will be delegated</li><li>The argument <code>amount</code> is the number of tokens to be delegated</li><li>The argument <code>delegator</code> is the public key of the account delegating tokens to a validator</li></ul></li></ul><p><strong>Important response fields:</strong></p><ul><li><code>&quot;result&quot;.&quot;deploy_hash&quot;</code> - the address of the executed delegation request.</li></ul><p>Save the returned <em>deploy_hash</em> from the output to query information about the delegation deploy later.</p><p>Refer to the <a href="/docs/workflow/querying#deploy-status">Deploy Status</a> section to learn how to confirm that your deploy was executed successfully.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="confirming-the-delegation"></a>Confirming the Delegation<a class="hash-link" href="#confirming-the-delegation" title="Direct link to heading">#</a></h3><p>A Casper Network maintains an <em>auction</em> where validators <em>bid</em> on slots to become part of the active validator set. Delegation rewards are only earned for a validator who has won the auction and is part of the active set. Thus to ensure the delegated tokens can earn rewards, we must first check that:</p><ol><li>Our delegation is part of the <em>bid</em> to the <em>auction</em></li><li>The validator is part of the <em>active</em> validator set</li></ol><p>Once the deploy has been executed, we can query the auction for information to confirm our delegation. We can use the Casper command-line client to create an RPC request with the following query:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-auction-info </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">--node-address http://</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">peer-ip-address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:7777/rpc</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>Request fields</strong>:</p><ul><li><code>node-address</code> - &lt;HOST:PORT&gt; Hostname or IP and port of node on which HTTP service is running [default:<a href="http://localhost:7777" target="_blank" rel="noopener noreferrer">http://localhost:7777</a>]</li></ul><p>The <code>get-auction-info</code> call will return all the bids currently in the auction contract and the list of active validators for <code>4</code> future eras from the present era.</p><p>Below is a sample output:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&quot;bids&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;bid&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;bonding_purse&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;uref-a5ce7dbc5f7e02ef52048e64b2ff4693a472a1a56fe71e83b180cd33271b2ed9-007&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;delegation_rate&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;delegators&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;bonding_purse&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;uref-ca9247ad56a4d5be70484303133e2d6db97f7d7385772155763749af98ace0b0-007&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;delegatee&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0102db4e11bccb3f9d823c82b9389625d383867d00d09b343043cdbe5ca56dd1fd&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;public_key&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;010c7fef89bf1fc38363bd2ec20bbfb5e1152d6a9579c8847615c59c7e461ece89&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;staked_amount&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;bonding_purse&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;uref-38a2e9cad51b380e478c9a325578f4bbdaa0337b99b9ab9bf1dc2a114eb948b9-007&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;delegatee&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0102db4e11bccb3f9d823c82b9389625d383867d00d09b343043cdbe5ca56dd1fd&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;public_key&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;016ebb38d613f2550e7c21ff9d99f6249b4ae5fb9e30938f6ece2d84a22a36b035&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;staked_amount&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;478473232415318176495746923&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;inactive&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> false,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;staked_amount&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;493754513995516852173468935&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;public_key&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0102db4e11bccb3f9d823c82b9389625d383867d00d09b343043cdbe5ca56dd1fd&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If your public key and associated amount appear in the <code>bid</code> data structure, this means that the delegation request has been processed successfully. However, this does not mean the associated validator is part of the validator set, so you need to check the validator status.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="checking-validator-status"></a>Checking Validator Status<a class="hash-link" href="#checking-validator-status" title="Direct link to heading">#</a></h3><p>The auction maintains a field called <code>era_validators</code>, which contains the validator information for 4 future eras from the current era. An entry for a specific era lists the <code>PublicKeys</code> of the active validators for that era along with their stake in the network.</p><p>If a validator is part of the set, its public key will be present in the <code>era_validators</code> field as part of the <code>Auction</code> data structure. We can use the Casper command-line client to create an RPC request to obtain auction information and assert that the selected validator is part of the active validator set.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">casper-client get-auction-info </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">--node-address http://</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">peer-ip-address</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:7777/rpc</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><strong>Request fields</strong>:</p><ul><li><code>node-address</code> - &lt;HOST:PORT&gt; Hostname or IP and port of node on which HTTP service is running [default:<a href="http://localhost:7777" target="_blank" rel="noopener noreferrer">http://localhost:7777</a>]</li></ul><p><strong>Important Response fields</strong>:</p><p>In the response, check the <code>&quot;auction_state&quot;.&quot;era_validators&quot;</code> structure, which should contain the public key of the selected validator for the era in which the validator will be active.</p><p>Below is an example of the <code>era_validators</code> structure:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&quot;block_height&quot;</span><span class="token plain">:105,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token string" style="color:#e3116c">&quot;era_validators&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token string" style="color:#e3116c">&quot;era_id&quot;</span><span class="token plain">:9,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token string" style="color:#e3116c">&quot;validator_weights&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token string" style="color:#e3116c">&quot;public_key&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;0102db4e11bccb3f9d823c82b9389625d383867d00d09b343043cdbe5ca56dd1fd&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token string" style="color:#e3116c">&quot;weight&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;648151805935226166098427654&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token string" style="color:#e3116c">&quot;public_key&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;01aa67009b37a23c7ad0ca632da5da239d5db46067d4b34125f61b04611f610baf&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token string" style="color:#e3116c">&quot;weight&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;648151805938466925128109996&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token string" style="color:#e3116c">&quot;public_key&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;01b7afa2beeddffd13458b763d7a00259f7dc0fa45498dfed05b4d7df4b7d65e2c&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token string" style="color:#e3116c">&quot;weight&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;648151805935226166098427656&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token string" style="color:#e3116c">&quot;public_key&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;01ca5463dac047cbd750d97ee42dd810cf1e081ece7d83ae4fc03b25a9ecad3b6a&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token string" style="color:#e3116c">&quot;weight&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;648151805938466925128109998&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token string" style="color:#e3116c">&quot;public_key&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;01f4a7644695aa129eba09fb3f11d0277b2bea1a3d5bc1933bcda93fdb4ad17e55&quot;</span><span class="token plain">,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token string" style="color:#e3116c">&quot;weight&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;648151805938466925128110000&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>In the above example, we see the public keys of the active validators in Era <code>9</code>.</p><p><strong>Note</strong>: Validators earn delegation rewards only when they are part of the active set. This information is time-sensitive; therefore, a validator selected today may not be part of the set tomorrow. Keep this in mind when creating a delegation request.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/casper-network/documentation/tree/master/docs/casper/workflow/delegate.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/workflow/verify-transfer"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Verifying a Transfer</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/workflow/undelegate"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Undelegating Tokens Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#building-the-delegation-wasm" class="table-of-contents__link">Building The Delegation WASM</a></li><li><a href="#acquiring-a-validators-public-key" class="table-of-contents__link">Acquiring a Validator&#39;s Public Key</a></li><li><a href="#executing-the-delegation-request" class="table-of-contents__link">Executing the Delegation Request</a><ul><li><a href="#sending-the-delegation-deploy" class="table-of-contents__link">Sending the Delegation Deploy</a></li><li><a href="#confirming-the-delegation" class="table-of-contents__link">Confirming the Delegation</a></li><li><a href="#checking-validator-status" class="table-of-contents__link">Checking Validator Status</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright"><div class="footer-inner-container">
    <div class="footer-top">
        <ul class="items">
            <li><a href="https://arxiv.org/pdf/2101.02159.pdf" target="_blank" rel="noopener">White Paper</a></li>
            <li>
                <a href="https://casper.network/docs" target="_blank" rel="noopener"> Docs </a>
            </li>
            <li><a href="https://devxdao.com/" target="_blank" rel="noopener">Grant Program</a></li>
            <li><a href="https://casper.network/network/casper-association" target="_blank" rel="noopener">Casper Association</a></li>
        </ul>
    </div>
    <div class="footer-bottom">
        <ul class="items left">
            <li>
                <a href="https://casper.network/en/network" target="_blank" rel="noopener">
                    <img class="footer-logo" src="/docs/icon/logo-white.svg" alt="Casper Logo">
                </a>
            </li>
            <li>Â© 2021 Casper Association</li>
        </ul>
        <ul class="items right">
            <li class="trademark">
                <a href="https://casper.network/network/trademark-policy" target="_blank" rel="noopener">Trademark Policy and Guidelines</a>
            </li>
        </ul>
    </div>
</div>
</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.ebfc6a74.js"></script>
<script src="/docs/assets/js/main.b9eb2654.js"></script>
</body>
</html>