<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-dapp-dev-guide/building-dapps/nctl-test">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Testing Smart Contracts with NCTL | Casper</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.casper.network/dapp-dev-guide/building-dapps/nctl-test/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Testing Smart Contracts with NCTL | Casper"><meta data-rh="true" name="description" content="NCTL effectively simulates a live Casper network. The process for sending a Deploy to an NCTL-based network is therefore similar to doing so on a live network."><meta data-rh="true" property="og:description" content="NCTL effectively simulates a live Casper network. The process for sending a Deploy to an NCTL-based network is therefore similar to doing so on a live network."><link data-rh="true" rel="icon" href="/icon/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.casper.network/dapp-dev-guide/building-dapps/nctl-test/"><link data-rh="true" rel="alternate" href="https://docs.casper.network/dapp-dev-guide/building-dapps/nctl-test/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.casper.network/dapp-dev-guide/building-dapps/nctl-test/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://KQNX60E7J5-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Casper" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.991e01f0.css">
<link rel="preload" href="/assets/js/runtime~main.03e1c079.js" as="script">
<link rel="preload" href="/assets/js/main.36ba6069.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#1c1e21;color:#fff" role="banner"><div class="content_knG7 announcementBarContent_xLdY">This documentation is changing to align with a new <b>Developer Portal</b> launching soon. Please excuse any disruptions.</div></div><nav aria-label="Main" class="navbar navbar--fixed-top navBarWrapper_phG8"><div class="containerSite fullNavBarHeight__XV6"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle documentation navigation bar" aria-expanded="false" class="navbar__toggle clean-btn navbarMobileTitle_ZINc"><div class="navbarMobileTitle_container_Qxup">Documentation<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.9822 2.57144H9.97778C9.90948 2.57144 9.84519 2.60492 9.80501 2.65983L6.0001 7.90448L2.19519 2.65983C2.15501 2.60492 2.09072 2.57144 2.02242 2.57144H1.01796C0.930903 2.57144 0.880011 2.67055 0.930903 2.74153L5.65322 9.2518C5.82465 9.48751 6.17555 9.48751 6.34564 9.2518L11.068 2.74153C11.1202 2.67055 11.0693 2.57144 10.9822 2.57144Z" fill="#F4F4F4"></path></svg></div></button><a class="navbar__item navbar__link" href="/concepts/">Concepts</a><a class="navbar__item navbar__link" href="/developers/">Developers</a><a class="navbar__item navbar__link" href="/operators/">Operators</a><a class="navbar__item navbar__link" href="/users/">Users</a><a class="navbar__item navbar__link" href="/resources/">Resources</a><a class="navbar__item navbar__link" href="/faq/">FAQ</a><a href="https://discord.com/invite/Q38s3Vh" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/dapp-dev-guide/building-dapps/nctl-test/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><a href="https://github.com/casper-network/docs-app" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_H2mL"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div></div></nav><div role="presentation" class="navbar-sidebar__backdrop"></div><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_W2AM"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage_qMb8"><main class="docMainContainer_RiV8 docMainContainerEnhanced_u7bj"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Testing Smart Contracts with NCTL</h1><p>NCTL effectively simulates a live Casper network. The process for sending a <code>Deploy</code> to an NCTL-based network is therefore similar to doing so on a live network.</p><p>Testing <code>Deploys</code> prior to sending them to a Casper network ensures that they operate as intended. When working in an environment that requires payment for execution, errors and inefficiencies quickly add up. To this end, Casper provides several layers of testing to identify and rectify any errors. After <a href="/developers/writing-onchain-code/simple-contract/">writing your smart contract</a> and testing it <a href="/developers/writing-onchain-code/testing-contracts/">using the provided framework</a>, NCTL serves as the next step in the process. While testing is entirely optional, it should be considered a best practice to avoid paying for the execution of faulty code.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started-with-nctl">Getting Started with NCTL<a href="#getting-started-with-nctl" class="hash-link" aria-label="Direct link to Getting Started with NCTL" title="Direct link to Getting Started with NCTL">​</a></h2><p>Prior to testing a <code>Deploy</code> through NCTL, you should have the following steps accomplished:</p><ol><li><p><a href="/developers/writing-onchain-code/simple-contract/">Completed writing a Deploy</a></p></li><li><p><a href="/developers/writing-onchain-code/testing-contracts/">Tested the Deploy</a> using the Casper testing framework</p></li><li><p><a href="/dapp-dev-guide/building-dapps/setup-nctl/">Setup NCTL</a> on your system</p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nctl-verification-prior-to-testing">NCTL Verification Prior to Testing<a href="#nctl-verification-prior-to-testing" class="hash-link" aria-label="Direct link to NCTL Verification Prior to Testing" title="Direct link to NCTL Verification Prior to Testing">​</a></h2><p>Prior to attempting an NCTL test, you must verify that your local NCTL instance started correctly. Run the following command to view your current node status:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">nctl-status</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You should see five nodes <code>RUNNING</code> and five <code>STOPPED</code>. Further, verify that the node and user information propagated within the <em>casper-node/utils/assets</em> directory. Each node and user should have the associated <code>Keys</code> necessary to interact with the network. Run the following command to view first user details:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">nctl-view-user-account user=1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installing-the-smart-contract">Installing the Smart Contract<a href="#installing-the-smart-contract" class="hash-link" aria-label="Direct link to Installing the Smart Contract" title="Direct link to Installing the Smart Contract">​</a></h2><p>This document assumes that you setup your NCTL network using the standard settings in a directory called <em>/casper/</em>.</p><p>You will need the following information to use the <code>put-deploy</code> command:</p><ul><li><p>The <strong>chain name</strong>, in this case <code>casper-net-1</code>. This will appear in our example put-deploy as <code>--chain-name &quot;casper-net-1&quot;</code></p></li><li><p>The <strong>secret key</strong> of the account sending the <code>Deploy</code>. For this example, we are using node-1 as the sender. The secret key file can be found at <em>casper-node/utils/nctl/assets/net-1/nodes/node-1/keys/secret_key.pem</em>. In our example put-deploy, this will appear as <code>--secret-key /casper/casper-node/utils/nctl/assets/net-1/nodes/node-1/keys/secret_key.pem</code>. If your Deploy is more complex and requires multiple accounts, NCTL also establishes multiple users for testing.</p></li><li><p>The <strong>payment amount</strong> in motes, which should be sufficient to avoid an &#x27;Out of Gas&#x27; error. The payment amount will appear in our example put-deploy as <code>--payment-amount 2500000000</code>. <strong>NCTL tests are not an accurate representation of potential gas costs on a live network. Please see our <a href="/developers/dapps/sending-deploys/#a-note-about-gas-price">note about gas prices</a>.</strong></p></li><li><p>The <strong>path</strong> to your <code>Deploy</code> that you wish to send to the NCTL network. This will appear in our example put-deploy as <code>--session-path &lt;PATH&gt;</code> and will require you to define the path to your specific <code>Deploy</code> Wasm.</p></li><li><p>The <strong>node address</strong> for a node on your NCTL network. In this example, we are using the node at <code>http://localhost:11101</code>. On the Casper Mainnet or Testnet, nodes will use port <code>7777</code>. This will appear in our example put-deploy as <code>--node-address http://&lt;HOST&gt;:7777</code>.</p></li></ul><p>The command to send your <code>Deploy</code> should look similar to the following code snippet:</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Use of the <code>$(get_path_to_client)</code> command assumes that you are operating in an activated NCTL envrionment.</p></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$(get_path_to_client) put-deploy \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--chain-name &quot;casper-net-1&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--secret-key /casper/casper-node/utils/nctl/assets/net-1/nodes/node-1/keys/secret_key.pem \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--payment-amount 2500000000 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-path &lt;PATH&gt; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--node-address http://localhost:11101</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The response will return something similar to the following information. Note the <code>deploy_hash</code>:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;id&quot;: 4824893960188648146,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;jsonrpc&quot;: &quot;2.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;result&quot;: {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;api_version&quot;: &quot;1.0.0&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;deploy_hash&quot;: &quot;8e6309cc37bc58d8fedc1094ee1bd264a636d39fc0e05b5e1d72d98f7b6faf13&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="verifying-deploy-execution">Verifying Deploy Execution<a href="#verifying-deploy-execution" class="hash-link" aria-label="Direct link to Verifying Deploy Execution" title="Direct link to Verifying Deploy Execution">​</a></h2><p>The previous command sent the <code>Deploy</code> to the NCTL network, but we recommend verifying deploy execution before continuing. The <code>deploy_hash</code> received in the response allows you to query the <code>Deploy</code>&#x27;s status.</p><p>To query the <code>Deploy</code>&#x27;s status, you will pass both the <code>deploy_hash</code> and the same <code>node-address</code> from above using the following command. This will return either an error message in the event of failure or the <code>Deploy</code> details if it succeeds.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$(get_path_to_client) get-deploy 8e6309cc37bc58d8fedc1094ee1bd264a636d39fc0e05b5e1d72d98f7b6faf13 -n http://localhost:11101</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="interacting-with-the-installed-contract">Interacting with the Installed Contract<a href="#interacting-with-the-installed-contract" class="hash-link" aria-label="Direct link to Interacting with the Installed Contract" title="Direct link to Interacting with the Installed Contract">​</a></h2><p>Once your NCTL network executes your <code>Deploy</code>, you can test the functionality of the installed contract. To do so, you will first need to identify any arguments to pass to the contract, starting with the <code>ContractHash</code> itself. This hash identifies the contract and allows you to target the included entry points. As we used the pre-established node-1 account to <a href="/developers/dapps/sending-deploys/">send the <code>Deploy</code></a>, we can retrieve the <code>ContractHash</code> from the node-1 account information. To do so, we will use the following command with a node address and the <code>PublicKey</code> of the node in question.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$(get_path_to_client) get-account-info \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--node-address http://localhost:11101 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--public-key /casper/casper-node/utils/nctl/assets/net-1/nodes/node-1/keys/public_key.pem</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This command will return information pertaining to the account, including the <code>NamedKeys</code>. The <code>ContractHash</code> of the contract to be tested will appear here. The process of calling the contract is similar to that of installing it, as they are both accomplished through sending a <code>Deploy</code>. In this instance, you will need the following information:</p><ul><li><p>The <strong>node address</strong>, entered in this instance using <code>--node-address http://localhost:11101</code></p></li><li><p>The <strong>chain name</strong>, entered in this instance using <code>--chain-name &quot;casper-net-1&quot;</code></p></li><li><p>The <strong>payment amount</strong> for this <code>Deploy</code> in motes, which may need to be adjusted depending on cost. In this instance, we will use <code>--payment-amount 500000000</code></p></li><li><p>The <strong>session path</strong>, defining the location of the Wasm bearing file for the <code>Deploy</code>. It appears in our example as <code>--session-path &lt;PATH&gt;</code> but you must define the path to your specific file.</p></li><li><p>Any <strong>session arguments</strong> specific to the contract that you are testing. Multiple instances of <code>--session-arg</code> may be used as necessary to provide values to the contract, including the <code>ContractHash</code> you acquired above. In the example below, you will see a demonstration of the <code>ContractHash</code> as a session argument as <code>--session-arg &quot;contract_key:key=&#x27;hash-8c13aaeef50ae7f447ee21276965c31cfa45c4ea3abb03d35d078cdd6a40e4a&#x27;&quot;</code></p></li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$(get_path_to_client) put-deploy \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--node-address http://localhost:11101 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--chain-name &quot;casper-net-1&quot; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--payment-amount 500000000 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-path &lt;PATH&gt; \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--session-arg &quot;contract_key:key=&#x27;hash-8c13aaeef50ae7f447ee21276965c31cfa45c4ea3abb03d35d078cdd6a40e4a&#x27;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="verifying-correct-contract-behavior">Verifying Correct Contract Behavior<a href="#verifying-correct-contract-behavior" class="hash-link" aria-label="Direct link to Verifying Correct Contract Behavior" title="Direct link to Verifying Correct Contract Behavior">​</a></h2><p>After calling your installed contract, you can verify that the contract behaved as expected by observing the associated change in <a href="/developers/cli/installing-contracts/#querying-global-state">global state</a>. Depending on how your contract functions, this can have different meanings and results. If we use our donation contract from the <a href="/developers/writing-onchain-code/simple-contract/">basic smart contract tutorial</a>, the NCTL process would have the following flow:</p><ol><li><p>Send a <code>Deploy</code> to install the &quot;Donation&quot; smart contract.</p></li><li><p>Verify the execution of the <code>Deploy</code>.</p></li><li><p>Interact with the installed contract using an additional <code>Deploy</code> that calls one or several of the entry points. For example, calling the <code>donate</code> entry point to donate an amount to the fundraising purse.</p></li><li><p>Verify the associated change in global state. Namely, an increase in the balance of the fundraising purse.</p></li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/casper-network/docs/tree/main/source/docs/casper/dapp-dev-guide/building-dapps/nctl-test.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-03-28T17:27:28.000Z">Mar 28, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getting-started-with-nctl" class="table-of-contents__link toc-highlight">Getting Started with NCTL</a></li><li><a href="#nctl-verification-prior-to-testing" class="table-of-contents__link toc-highlight">NCTL Verification Prior to Testing</a></li><li><a href="#installing-the-smart-contract" class="table-of-contents__link toc-highlight">Installing the Smart Contract</a></li><li><a href="#verifying-deploy-execution" class="table-of-contents__link toc-highlight">Verifying Deploy Execution</a></li><li><a href="#interacting-with-the-installed-contract" class="table-of-contents__link toc-highlight">Interacting with the Installed Contract</a></li><li><a href="#verifying-correct-contract-behavior" class="table-of-contents__link toc-highlight">Verifying Correct Contract Behavior</a></li></ul></div></div></div></div></main></div></div><div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright"><div class="footer-inner-container">
    <div class="footer-top">
        <ul class="items">
            <li><a href="https://arxiv.org/pdf/2101.02159.pdf" target="_blank" rel="noopener">White Paper</a></li>
            <li>
                <a href="https://docs.casper.network" target="_blank" rel="noopener"> Docs </a>
            </li>
            <li><a href="https://devxdao.com/" target="_blank" rel="noopener">Grant Program</a></li>
            <li><a href="https://casper.network/network/casper-association" target="_blank" rel="noopener">Casper Association</a></li>
        </ul>
    </div>
    <div class="footer-bottom">
        <ul class="items left">
            <li>
                <a href="https://casper.network/en/network" target="_blank" rel="noopener">
                    <img class="footer-logo" src="/icon/Casper_Wordmark_White_RGB.png" alt="Casper Logo">
                </a>
            </li>
            <li>© 2023 Casper Association</li>
        </ul>
        <ul class="items right">
            <li class="trademark">
                <a href="https://casper.network/network/trademark-policy" target="_blank" rel="noopener">Trademark Policy and Guidelines</a>
            </li>
        </ul>
    </div>
</div>
</div></div></div></footer></div></div>
<script src="/assets/js/runtime~main.03e1c079.js"></script>
<script src="/assets/js/main.36ba6069.js"></script>
</body>
</html>