"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[6337],{3905:function(e,a,n){n.d(a,{Zo:function(){return b},kt:function(){return m}});var t=n(7294);function d(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function f(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function c(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?f(Object(n),!0).forEach((function(a){d(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function r(e,a){if(null==e)return{};var n,t,d=function(e,a){if(null==e)return{};var n,t,d={},f=Object.keys(e);for(t=0;t<f.length;t++)n=f[t],a.indexOf(n)>=0||(d[n]=e[n]);return d}(e,a);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(e);for(t=0;t<f.length;t++)n=f[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(d[n]=e[n])}return d}var s=t.createContext({}),i=function(e){var a=t.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):c(c({},a),e)),n},b=function(e){var a=i(e.components);return t.createElement(s.Provider,{value:a},e.children)},l="mdxType",o={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},p=t.forwardRef((function(e,a){var n=e.components,d=e.mdxType,f=e.originalType,s=e.parentName,b=r(e,["components","mdxType","originalType","parentName"]),l=i(n),p=d,m=l["".concat(s,".").concat(p)]||l[p]||o[p]||f;return n?t.createElement(m,c(c({ref:a},b),{},{components:n})):t.createElement(m,c({ref:a},b))}));function m(e,a){var n=arguments,d=a&&a.mdxType;if("string"==typeof e||d){var f=n.length,c=new Array(f);c[0]=p;var r={};for(var s in a)hasOwnProperty.call(a,s)&&(r[s]=a[s]);r.originalType=e,r[l]="string"==typeof e?e:d,c[1]=r;for(var i=2;i<f;i++)c[i]=n[i];return t.createElement.apply(null,c)}return t.createElement.apply(null,n)}p.displayName="MDXCreateElement"},111:function(e,a,n){n.r(a),n.d(a,{assets:function(){return b},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return r},metadata:function(){return i},toc:function(){return l}});var t=n(3117),d=n(102),f=(n(7294),n(3905)),c=["components"],r={},s="The Node's Event Stream",i={unversionedId:"operators/node-events",id:"operators/node-events",title:"The Node's Event Stream",description:"A Casper network uses event streaming to broadcast state changes in smart contracts and nodes. A node streams events through the SSE (Server-Sent Events) server. The default configuration of the Casper node provides event streaming via the port specified as the eventstreamserver.address in the node's config.toml, which is by default 9999 for nodes on Testnet and Mainnet.",source:"@site/source/docs/casper/operators/node-events.md",sourceDirName:"operators",slug:"/operators/node-events",permalink:"/operators/node-events",draft:!1,editUrl:"https://github.com/casper-network/docs/tree/main/source/docs/casper/operators/node-events.md",tags:[],version:"current",lastUpdatedAt:1680093531,formattedLastUpdatedAt:"Mar 29, 2023",frontMatter:{}},b={},l=[{value:"Event Types",id:"event-types",level:2},{value:"Monitoring a Node&#39;s Event Stream",id:"monitoring-a-nodes-event-stream",level:2},{value:"DeployAccepted Events",id:"deployaccepted-events",level:3},{value:"FinalitySignature Events",id:"finalitysignature-events",level:3},{value:"Main Events",id:"main-events",level:3},{value:"ApiVersion Events",id:"apiversion-events",level:4},{value:"BlockAdded Events",id:"blockadded-events",level:4},{value:"DeployProcessed Events",id:"deployprocessed-events",level:4},{value:"DeployExpired Events",id:"deployexpired-events",level:4},{value:"Fault Events",id:"fault-events",level:4},{value:"Step Events",id:"step-events",level:4},{value:"Shutdown Events",id:"shutdown-events",level:4},{value:"Replaying the Event Stream",id:"replaying-the-event-stream",level:2}],o={toc:l},p="wrapper";function m(e){var a=e.components,n=(0,d.Z)(e,c);return(0,f.kt)(p,(0,t.Z)({},o,n,{components:a,mdxType:"MDXLayout"}),(0,f.kt)("h1",{id:"the-nodes-event-stream"},"The Node's Event Stream"),(0,f.kt)("p",null,"A Casper network uses event streaming to broadcast state changes in smart contracts and nodes. A node streams events through the SSE (Server-Sent Events) server. The default configuration of the Casper node provides event streaming via the port specified as the ",(0,f.kt)("inlineCode",{parentName:"p"},"event_stream_server.address")," in the node's ",(0,f.kt)("em",{parentName:"p"},"config.toml"),", which is by default ",(0,f.kt)("inlineCode",{parentName:"p"},"9999")," for nodes on ",(0,f.kt)("a",{parentName:"p",href:"https://testnet.cspr.live/tools/peers"},"Testnet")," and ",(0,f.kt)("a",{parentName:"p",href:"https://cspr.live/tools/peers"},"Mainnet"),"."),(0,f.kt)("h2",{id:"event-types"},"Event Types"),(0,f.kt)("p",null,"The nodes emit three types of event streams categorized based on their emitting endpoint."),(0,f.kt)("ul",null,(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("strong",{parentName:"li"},"Deploy events")," - associated with Deploys on a node. Currently, only the ",(0,f.kt)("inlineCode",{parentName:"li"},"DeployAccepted")," event is emitted. Refer to the ",(0,f.kt)("a",{parentName:"li",href:"/deploy-and-deploy-lifecycle#deploys-execution-semantics-deploys"},"Deploys")," section to discover more about Deploys and their life cycles."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("strong",{parentName:"li"},"Finality Signature events")," - indicating that the final approvals from validators are signed, and further alterations to the block will not be allowed. Refer to the ",(0,f.kt)("a",{parentName:"li",href:"/deploy-and-deploy-lifecycle#consensus-reached"},"consensus reached")," section and ",(0,f.kt)("a",{parentName:"li",href:"/concepts/glossary/B#block-finality"},"block finality")," section to learn more about finality signatures."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("strong",{parentName:"li"},"Main events")," - all events other than ",(0,f.kt)("inlineCode",{parentName:"li"},"DeployAccepted")," and ",(0,f.kt)("inlineCode",{parentName:"li"},"FinalitySignature")," events such as: ApiVersion, BlockAdded, DeployProcessed, DeployExpired, Fault, Step, and Shutdown events.")),(0,f.kt)("h2",{id:"monitoring-a-nodes-event-stream"},"Monitoring a Node's Event Stream"),(0,f.kt)("p",null,"cURL is a helpful tool to monitor the event stream on a node."),(0,f.kt)("pre",null,(0,f.kt)("code",{parentName:"pre",className:"language-bash"},"curl -s http://<HOST:PORT>/events/<TYPE>\n")),(0,f.kt)("ul",null,(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("inlineCode",{parentName:"li"},"HOST")," - The IP address of a node on the network."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("inlineCode",{parentName:"li"},"PORT")," - The port specified as the ",(0,f.kt)("inlineCode",{parentName:"li"},"event_stream_server.address")," in the node's ",(0,f.kt)("em",{parentName:"li"},"config.toml"),"."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("inlineCode",{parentName:"li"},"TYPE")," - The type of emitted event described above.")),(0,f.kt)("h3",{id:"deployaccepted-events"},"DeployAccepted Events"),(0,f.kt)("p",null,"The URL emitting DeployAccepted events is ",(0,f.kt)("inlineCode",{parentName:"p"},"http://<HOST>:9999/events/deploys")," and can be accessed using the following command. Replace the ",(0,f.kt)("inlineCode",{parentName:"p"},"HOST")," field with the IP address of a node on the network."),(0,f.kt)("pre",null,(0,f.kt)("code",{parentName:"pre",className:"language-bash"},"curl -sN http://<HOST>:9999/events/deploys\n")),(0,f.kt)("p",null,"The event stream server of the node emits a DeployAccepted event when a ",(0,f.kt)("a",{parentName:"p",href:"/concepts/serialization-standard#serialization-standard-deploy"},"Deploy")," has been received by the node."),(0,f.kt)("p",null,"The following example contains the JSON representation of the ",(0,f.kt)("inlineCode",{parentName:"p"},"DeployAccepted")," event structure."),(0,f.kt)("details",null,(0,f.kt)("summary",null,"DeployAccepted event example"),(0,f.kt)("pre",null,(0,f.kt)("code",{parentName:"pre",className:"language-bash"},'data: {\n"DeployAccepted":\n    {\n      "hash":"99483863a391510b8d3447dd5cfc446b42d65e598672d569abc4cdded85b81e6",\n      "header":\n        {"account":"01e35e1904034db6c0bb48c6d88826a2bcf27f29f67a13d844b82aab04614f83f4",\n        "timestamp":"2022-06-22T13:41:41.581Z",\n        "ttl":"30m",\n        "gas_price":1,\n        "body_hash":"eb53a7db7c29f9b6101797167302e5977dbe53cb5ee9b9ae961e3418d95aeb1c",\n        "dependencies":[],\n        "chain_name":"casper-net-1"\n        },\n      "payment":\n        {"ModuleBytes":\n          {"module_bytes":"",\n          "args":[["amount",{"cl_type":"U512","bytes":"0400f90295","parsed":"2500000000"}]]\n          }\n        },\n      "session":\n        {"Transfer":\n          {\n            "args":[["amount",{"cl_type":"U512","bytes":"0400f90295","parsed":"2500000000"}],\n                ["target",{"cl_type":{"ByteArray":32},"bytes":"b33d857b45a2280d846c50cb3ad76850e2125012c2ba6a814957f48d68052334","parsed":"b33d857b45a2280d846c50cb3ad76850e2125012c2ba6a814957f48d68052334"}],\n                ["id",{"cl_type":{"Option":"U64"},"bytes":"010100000000000000","parsed":1}]]\n          }\n        },\n      "approvals":\n        [{"signer":"01e35e1904034db6c0bb48c6d88826a2bcf27f29f67a13d844b82aab04614f83f4","signature":"0105aa48ff49e0202d0b4c17ca449ccd6ba30ae80fed5e60503eb34eab7a8aab11893502b7856946cdafcc1966dcbe656b3cab06f0396829484edd14b6ffb94f08"}\n        ]\n    }\n}\nid:506\n\n'))),(0,f.kt)("br",null),(0,f.kt)("h3",{id:"finalitysignature-events"},"FinalitySignature Events"),(0,f.kt)("p",null,"The URL emitting ",(0,f.kt)("inlineCode",{parentName:"p"},"FinalitySignature")," events is ",(0,f.kt)("inlineCode",{parentName:"p"},"http://<HOST>:9999/events/sigs"),"."),(0,f.kt)("pre",null,(0,f.kt)("code",{parentName:"pre",className:"language-bash"},"curl -sN http://<HOST>:9999/events/sigs\n")),(0,f.kt)("p",null,"A ",(0,f.kt)("inlineCode",{parentName:"p"},"FinalitySignature")," event is emitted whenever a new ",(0,f.kt)("a",{parentName:"p",href:"/concepts/glossary/B#block-finality"},"finality")," signature is received. The following example contains the JSON representation of the ",(0,f.kt)("inlineCode",{parentName:"p"},"FinalitySignature")," event structure."),(0,f.kt)("details",null,(0,f.kt)("summary",null,"FinalitySignature event example:"),(0,f.kt)("pre",null,(0,f.kt)("code",{parentName:"pre",className:"language-bash"},'data:\n {\n   "FinalitySignature":\n    {\n     "block_hash":"abbcdc782a18a9ba31826b07c838a69a6b790c8b36a0fd5f0818f757834d82f5",\n     "era_id":11,\n     "signature":"01d45c16e488c3e16bb1e1134f9a92fb42492498ab2233a643a159281ea8a2a497edd19b6ae56f70c32c12f0341a9ded719033285db17c614337e363fdd8e41f05",\n     "public_key":"01601bda04ea125e2ca1881e817c46403b32862eb053370e0b93adad220378578a"\n     }\n }\nid:696\n'))),(0,f.kt)("br",null),(0,f.kt)("p",null,"Fields to note:"),(0,f.kt)("ul",null,(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#block-hash"},"block_hash")," - A cryptographic hash used to identify a Block."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#eraid"},"era_id")," - A period of time used to specify events in a blockchain."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#signature"},"signature")," - A serialized byte representation of a cryptographic signature."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#publickey"},"public_key")," - A unique personal address shared on the network.")),(0,f.kt)("h3",{id:"main-events"},"Main Events"),(0,f.kt)("p",null,"All other events apart from ",(0,f.kt)("inlineCode",{parentName:"p"},"DeployAccepted")," and ",(0,f.kt)("inlineCode",{parentName:"p"},"FinalitySignature")," events are emitted on the endpoint ",(0,f.kt)("inlineCode",{parentName:"p"},"main")," with the URL ",(0,f.kt)("inlineCode",{parentName:"p"},"http://<HOST>:9999/events/main"),"."),(0,f.kt)("pre",null,(0,f.kt)("code",{parentName:"pre",className:"language-bash"},"curl -sN http://<HOST>:9999/events/main\n")),(0,f.kt)("p",null,"Further details of each event are presented in the following sections."),(0,f.kt)("h4",{id:"apiversion-events"},"ApiVersion Events"),(0,f.kt)("p",null,(0,f.kt)("inlineCode",{parentName:"p"},"ApiVersion")," is always the first event emitted when a new client connects to the SSE server. It specifies the API version of the server. The ApiVersion is the protocol version of a node on the Casper platform. The following example contains the JSON representation of the ",(0,f.kt)("inlineCode",{parentName:"p"},"ApiVersion")," event structure."),(0,f.kt)("details",null,(0,f.kt)("summary",null,"ApiVersion event example"),(0,f.kt)("pre",null,(0,f.kt)("code",{parentName:"pre",className:"language-bash"},'data:{"ApiVersion":"1.0.0"}\n'))),(0,f.kt)("br",null),(0,f.kt)("h4",{id:"blockadded-events"},"BlockAdded Events"),(0,f.kt)("p",null,"A ",(0,f.kt)("inlineCode",{parentName:"p"},"BlockAdded")," event is emitted whenever a new block is added to the blockchain and stored locally on the node. The following example contains the JSON representation of the ",(0,f.kt)("inlineCode",{parentName:"p"},"BlockAdded")," event structure."),(0,f.kt)("details",null,(0,f.kt)("summary",null,"BlockAdded event example"),(0,f.kt)("pre",null,(0,f.kt)("code",{parentName:"pre",className:"language-bash"},'data:\n{\n   "BlockAdded":\n    {\n       "block_hash":"5809c6aacc3ac0573a67677743f4cb93cd487ade1c5132c1f806f75b6248f35f",\n       "block":\n        {\n          "hash":"5809c6aacc3ac0573a67677743f4cb93cd487ade1c5132c1f806f75b6248f35f",\n          "header":\n           {\n            "parent_hash":"997d2f23c0a70ecca18043eab2f2f4fdef47fceba96519145b8e5d44609c4f80",\n            "state_root_hash":"48ec6b9cc41ec36f7424b3b1d24fcc4dfe96d7e01e2196c9f45879a1a8d4b996",\n            "body_hash":"03a5a5e40042f904fd2f307085c07f9774d17f9ee17fc3ef23ed5485dfff972d",\n            "random_bit":true,\n            "accumulated_seed":"9200c4ac43deda1dd5a8ca91ec37ce33df0ef06bd82d94314bbb961e9e6501f7",\n            "era_end":null,\n            "timestamp":"2022-06-22T13:42:37.824Z",\n            "era_id":9,\n            "height":97,\n            "protocol_version":"1.0.0"\n           },\n          "body":\n            {\n               "proposer":"01601bda04ea125e2ca1881e817c46403b32862eb053370e0b93adad220378578a",\n               "deploy_hashes":[],\n               "transfer_hashes":[]\n            },\n          "proofs":[]\n        }\n     }\n  }\nid:594\n'))),(0,f.kt)("br",null),(0,f.kt)("p",null,"Fields to note:"),(0,f.kt)("ul",null,(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#block-hash"},"block_hash")," - A cryptographic hash used to identify a Block."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#serialization-standard-block"},"block")," - The JSON representation of the Block.")),(0,f.kt)("h4",{id:"deployprocessed-events"},"DeployProcessed Events"),(0,f.kt)("p",null,"A ",(0,f.kt)("inlineCode",{parentName:"p"},"DeployProcessed")," event is emitted when a given Deploy has been executed. The following example contains the JSON representation of the ",(0,f.kt)("inlineCode",{parentName:"p"},"DeployProcessed")," event structure."),(0,f.kt)("details",null,(0,f.kt)("summary",null,"DeployProcessed event example"),(0,f.kt)("pre",null,(0,f.kt)("code",{parentName:"pre",className:"language-bash"},'data:\n{\n  "DeployProcessed":\n  {\n    "deploy_hash":"99483863a391510b8d3447dd5cfc446b42d65e598672d569abc4cdded85b81e6",\n    "account":"01e35e1904034db6c0bb48c6d88826a2bcf27f29f67a13d844b82aab04614f83f4",\n    "timestamp":"2022-06-22T13:41:41.581Z",\n    "ttl":"30m",\n    "dependencies":[],\n    "block_hash":"f19e3b63678ca5aa9fa8b30377275c83f8c1a041902b38ce7f4de50f02dbf396",\n    "execution_result":\n     {\n      "Success":\\\n      {\n       "effect":\n        {\n         "operations":[],\n         "transforms":\n        [\n          {"key":"hash-f2aaa28affc32affd0fb9d23e6b525ed786f934fdb58bf1d3f45edf28f244ec9","transform":"Identity"},\n          {"key":"account-hash-b33d857b45a2280d846c50cb3ad76850e2125012c2ba6a814957f48d68052334","transform":"Identity"},\n          {"key":"account-hash-b33d857b45a2280d846c50cb3ad76850e2125012c2ba6a814957f48d68052334","transform":"Identity"},\n          {"key":"hash-f2aaa28affc32affd0fb9d23e6b525ed786f934fdb58bf1d3f45edf28f244ec9","transform":"Identity"},\n          {"key":"hash-f2aaa28affc32affd0fb9d23e6b525ed786f934fdb58bf1d3f45edf28f244ec9","transform":"Identity"},\n          {"key":"hash-d7173acc018f9330f28ded58e4bf5e955239e87b55d2b1709ff39c300b7fe602","transform":"Identity"},\n          {"key":"hash-f2aaa28affc32affd0fb9d23e6b525ed786f934fdb58bf1d3f45edf28f244ec9","transform":"Identity"},\n          {"key":"hash-eef70c80ed9bc625d4bc0106f2c21f3445cdb9e8bbacffb1f6d18b49b7e646ca","transform":"Identity"},\n          {"key":"hash-eef70c80ed9bc625d4bc0106f2c21f3445cdb9e8bbacffb1f6d18b49b7e646ca","transform":"Identity"},\n          {"key":"hash-c805d90bb64f02a3a530f951a85bc8cacd586da8abee586f790e9d6037ebbb1b","transform":"Identity"},\n          {"key":"hash-eef70c80ed9bc625d4bc0106f2c21f3445cdb9e8bbacffb1f6d18b49b7e646ca","transform":"Identity"},\n          {"key":"balance-f615b98575d7f728efadaa8e2326ecf8a11303856178378033cc3ca7f7ba83c8","transform":"Identity"},\n          {"key":"balance-389c8be6728248c03b39a316b40e4d5202c01bdb4db969c1c6839a7772ec1ed6","transform":"Identity"},\n          {"key":"balance-f615b98575d7f728efadaa8e2326ecf8a11303856178378033cc3ca7f7ba83c8",\n            "transform":\n              {\n                "WriteCLValue":\n                {\n                  "cl_type":"U512",\n                  "bytes":"0e001f0afa095bc138938d44c64d31",\n                  "parsed":"999999999999999999999999900000000"\n                }\n              }\n          },\n          {"key":"balance-389c8be6728248c03b39a316b40e4d5202c01bdb4db969c1c6839a7772ec1ed6","transform":\n           {"AddUInt512":"100000000"}\n          },\n          {"key":"hash-f2aaa28affc32affd0fb9d23e6b525ed786f934fdb58bf1d3f45edf28f244ec9","transform":"Identity"},\n          {"key":"account-hash-b33d857b45a2280d846c50cb3ad76850e2125012c2ba6a814957f48d68052334","transform":"Identity"},\n          {"key":"account-hash-b33d857b45a2280d846c50cb3ad76850e2125012c2ba6a814957f48d68052334","transform":"Identity"},\n          {"key":"hash-f2aaa28affc32affd0fb9d23e6b525ed786f934fdb58bf1d3f45edf28f244ec9","transform":"Identity"},\n          {"key":"hash-f2aaa28affc32affd0fb9d23e6b525ed786f934fdb58bf1d3f45edf28f244ec9","transform":"Identity"},{"key":"hash-d7173acc018f9330f28ded58e4bf5e955239e87b55d2b1709ff39c300b7fe602","transform":"Identity"},\n          {"key":"hash-f2aaa28affc32affd0fb9d23e6b525ed786f934fdb58bf1d3f45edf28f244ec9","transform":"Identity"},\n          {"key":"hash-eef70c80ed9bc625d4bc0106f2c21f3445cdb9e8bbacffb1f6d18b49b7e646ca","transform":"Identity"},\n          {"key":"hash-eef70c80ed9bc625d4bc0106f2c21f3445cdb9e8bbacffb1f6d18b49b7e646ca","transform":"Identity"},\n          {"key":"hash-c805d90bb64f02a3a530f951a85bc8cacd586da8abee586f790e9d6037ebbb1b","transform":"Identity"},{"key":"hash-eef70c80ed9bc625d4bc0106f2c21f3445cdb9e8bbacffb1f6d18b49b7e646ca","transform":"Identity"},\n          {"key":"balance-f615b98575d7f728efadaa8e2326ecf8a11303856178378033cc3ca7f7ba83c8","transform":"Identity"},\n          {"key":"balance-389c8be6728248c03b39a316b40e4d5202c01bdb4db969c1c6839a7772ec1ed6","transform":"Identity"},\n          {"key":"balance-f615b98575d7f728efadaa8e2326ecf8a11303856178378033cc3ca7f7ba83c8","transform":\n           {"WriteCLValue":\n            {"cl_type":"U512",\n            "bytes":"0e001f0afa095bc138938d44c64d31",\n            "parsed":"999999999999999999999999900000000"\n            }\n           }\n          },\n          {"key":"balance-389c8be6728248c03b39a316b40e4d5202c01bdb4db969c1c6839a7772ec1ed6","transform":\n           {"AddUInt512":"100000000"\n           }\n          },\n          {"key":"hash-eef70c80ed9bc625d4bc0106f2c21f3445cdb9e8bbacffb1f6d18b49b7e646ca","transform":"Identity"},\n          {"key":"hash-eef70c80ed9bc625d4bc0106f2c21f3445cdb9e8bbacffb1f6d18b49b7e646ca","transform":"Identity"},\n          {"key":"hash-c805d90bb64f02a3a530f951a85bc8cacd586da8abee586f790e9d6037ebbb1b","transform":"Identity"},\n          {"key":"hash-eef70c80ed9bc625d4bc0106f2c21f3445cdb9e8bbacffb1f6d18b49b7e646ca","transform":"Identity"},\n          {"key":"balance-f615b98575d7f728efadaa8e2326ecf8a11303856178378033cc3ca7f7ba83c8","transform":"Identity"},\n          {"key":"balance-1aa4fb6dd0b0c11cf2f7881e5260d38691f37e6049cb6b9c22d5de5663feac9d","transform":"Identity"},\n          {"key":"balance-f615b98575d7f728efadaa8e2326ecf8a11303856178378033cc3ca7f7ba83c8","transform":\n           {"WriteCLValue":\n            {"cl_type":"U512",\n             "bytes":"0e00260765095bc138938d44c64d31",\n             "parsed":"999999999999999999999997400000000"\n            }\n           }\n          },\n          {"key":"balance-1aa4fb6dd0b0c11cf2f7881e5260d38691f37e6049cb6b9c22d5de5663feac9d","transform":\n           {"AddUInt512":"2500000000"\n           }\n          },\n          {"key":"transfer-dc0fa2fefc399e2e0b3256d6c3fda78cd459e3f55cd07e7ebad1d785613f6a7c","transform":\n           {"WriteTransfer":\n            {"deploy_hash":"99483863a391510b8d3447dd5cfc446b42d65e598672d569abc4cdded85b81e6",\n             "from":"account-hash-3bcdf5f3ed95e9d617ae8f864590acf992f97fcf7135d79cf050d8ff983d59d3",\n             "to":"account-hash-b33d857b45a2280d846c50cb3ad76850e2125012c2ba6a814957f48d68052334",\n             "source":"uref-f615b98575d7f728efadaa8e2326ecf8a11303856178378033cc3ca7f7ba83c8-007",\n             "target":"uref-1aa4fb6dd0b0c11cf2f7881e5260d38691f37e6049cb6b9c22d5de5663feac9d-004",\n             "amount":"2500000000",\n             "gas":"0",\n             "id":1\n            }\n           }\n          },\n          {"key":"deploy-99483863a391510b8d3447dd5cfc446b42d65e598672d569abc4cdded85b81e6","transform":\n           {"WriteDeployInfo":\n             {"deploy_hash":"99483863a391510b8d3447dd5cfc446b42d65e598672d569abc4cdded85b81e6",\n              "transfers":["transfer-dc0fa2fefc399e2e0b3256d6c3fda78cd459e3f55cd07e7ebad1d785613f6a7c"],\n              "from":"account-hash-3bcdf5f3ed95e9d617ae8f864590acf992f97fcf7135d79cf050d8ff983d59d3",\n              "source":"uref-f615b98575d7f728efadaa8e2326ecf8a11303856178378033cc3ca7f7ba83c8-007",\n              "gas":"100000000"\n             }\n            }\n          },\n          {"key":"hash-f2aaa28affc32affd0fb9d23e6b525ed786f934fdb58bf1d3f45edf28f244ec9","transform":"Identity"},\n          {"key":"hash-f2aaa28affc32affd0fb9d23e6b525ed786f934fdb58bf1d3f45edf28f244ec9","transform":"Identity"},\n          {"key":"hash-d7173acc018f9330f28ded58e4bf5e955239e87b55d2b1709ff39c300b7fe602","transform":"Identity"},\n          {"key":"hash-f2aaa28affc32affd0fb9d23e6b525ed786f934fdb58bf1d3f45edf28f244ec9","transform":"Identity"},\n          {"key":"balance-389c8be6728248c03b39a316b40e4d5202c01bdb4db969c1c6839a7772ec1ed6",\n          "transform":"Identity"},\n          {"key":"hash-f2aaa28affc32affd0fb9d23e6b525ed786f934fdb58bf1d3f45edf28f244ec9","transform":"Identity"},\n          {"key":"hash-eef70c80ed9bc625d4bc0106f2c21f3445cdb9e8bbacffb1f6d18b49b7e646ca","transform":"Identity"},\n          {"key":"hash-c805d90bb64f02a3a530f951a85bc8cacd586da8abee586f790e9d6037ebbb1b","transform":"Identity"},\n          {"key":"hash-eef70c80ed9bc625d4bc0106f2c21f3445cdb9e8bbacffb1f6d18b49b7e646ca","transform":"Identity"},\n          {"key":"balance-389c8be6728248c03b39a316b40e4d5202c01bdb4db969c1c6839a7772ec1ed6","transform":"Identity"},\n          {"key":"balance-fca9f7cb7cf68cd4fe6969bf089f56341ff5c35dbec649d9353c3989e5a91ade","transform":"Identity"},\n          {"key":"balance-389c8be6728248c03b39a316b40e4d5202c01bdb4db969c1c6839a7772ec1ed6","transform":\n            {"WriteCLValue":\n             {"cl_type":"U512",\n              "bytes":"00",\n              "parsed":"0"\n             }\n            }\n          },\n          {"key":"balance-fca9f7cb7cf68cd4fe6969bf089f56341ff5c35dbec649d9353c3989e5a91ade","transform":\n            {"AddUInt512":"100000000"\n            }\n          }\n        ]\n      },\n    "transfers":\n     ["transfer-dc0fa2fefc399e2e0b3256d6c3fda78cd459e3f55cd07e7ebad1d785613f6a7c"],\n      "cost":"100000000"\n    }\n   }\n  }\n}\nid:598\n'))),(0,f.kt)("br",null),(0,f.kt)("p",null,"Fields to note:"),(0,f.kt)("ul",null,(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#deploy-hash"},"deploy_hash")," - The cryptographic hash of a Deploy."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#serialization-standard-account"},"account")," - A structure that represents a user on a Casper network."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#timestamp"},"timestamp")," - Represents a concrete moment in time."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/developers/dapps/sending-deploys#ttl"},"ttl")," - The parameter that determines how long a deploy will wait for execution."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#block-hash"},"block_hash")," - A cryptographic hash that is used to identify a Block."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#executionresult"},"execution_result")," - The result of executing a single Deploy.")),(0,f.kt)("h4",{id:"deployexpired-events"},"DeployExpired Events"),(0,f.kt)("p",null,"A ",(0,f.kt)("inlineCode",{parentName:"p"},"DeployExpired")," event is emitted when a Deploy becomes invalid and cannot be executed or added to a block because its time-to-live had expired. The following example contains the JSON representation of the ",(0,f.kt)("inlineCode",{parentName:"p"},"DeployExpired")," event structure."),(0,f.kt)("details",null,(0,f.kt)("summary",null,"DeployExpired event example"),(0,f.kt)("pre",null,(0,f.kt)("code",{parentName:"pre",className:"language-bash"},'data:\n{\n  "DeployExpired":\n   {\n    "deploy_hash":"7ecf22fc284526c6db16fb6455f489e0a9cbf782834131c010cf3078fb9be353"\n   }\n}\nid:887\n\n'))),(0,f.kt)("br",null),(0,f.kt)("h4",{id:"fault-events"},"Fault Events"),(0,f.kt)("p",null,"The ",(0,f.kt)("inlineCode",{parentName:"p"},"Fault")," event is emitted if there is a validator error. The following example contains the JSON representation of the ",(0,f.kt)("inlineCode",{parentName:"p"},"Fault")," event structure."),(0,f.kt)("details",null,(0,f.kt)("summary",null,"Fault event example"),(0,f.kt)("pre",null,(0,f.kt)("code",{parentName:"pre",className:"language-bash"},'data:\n{\n  "Fault":\n    {\n      "era_id":4591448806312642506,\n      "public_key":"012fa85eb06279da42e68530e1116be04bfd2aaa5ed8d63401ebff4d9153a609a9",\n      "timestamp":"2020-08-07T01:26:58.364Z"\n    }\n}\n'))),(0,f.kt)("br",null),(0,f.kt)("p",null,"Fields to note:"),(0,f.kt)("ul",null,(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#eraid"},"era_id")," - A period of time used to specify events in a blockchain."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#publickey"},"public_key")," - A unique personal address that is shared on the network."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#timestamp"},"timestamp")," - Represents a concrete moment in time.")),(0,f.kt)("h4",{id:"step-events"},"Step Events"),(0,f.kt)("p",null,"A ",(0,f.kt)("inlineCode",{parentName:"p"},"Step")," event is emitted at the end of every era and contains the execution effects produced by running the auction contract's ",(0,f.kt)("inlineCode",{parentName:"p"},"step")," function. The following example contains the JSON representation of the ",(0,f.kt)("inlineCode",{parentName:"p"},"Step")," event structure."),(0,f.kt)("details",null,(0,f.kt)("summary",null,"Step event example"),(0,f.kt)("pre",null,(0,f.kt)("code",{parentName:"pre",className:"language-bash"},'data:\n {"Step":\n  {\n    "era_id":1,\n    "execution_effect":\n     {"operations":[],\n     "transforms":\n      [\n        {"key":"hash-044a0f52a3e5aa4496bff42382484f9b520831b80443ef89a322c26ae6774603","transform":"Identity"},\n        {"key":"hash-044a0f52a3e5aa4496bff42382484f9b520831b80443ef89a322c26ae6774603","transform":"Identity"},\n        {"key":"hash-6689f9e923d385f5dfbdc10c82d2423f36d31f8ae41ac33e28b46660f8d756a1","transform":"Identity"},\n        {"key":"hash-044a0f52a3e5aa4496bff42382484f9b520831b80443ef89a322c26ae6774603","transform":"Identity"},\n        {"key":"uref-f268de37fcea55f8fb1abeba8536a1cc041b2aed2691f1cf34aeaaf0ae379aa5-000","transform":"Identity"}\n        ,\n        {"key":"uref-cd76df3a576309a282541b62f9fe6d106e6abc1bfa75eaa74b1b63da5f505195-000","transform":"Identity"}\n        ,{"key":"hash-e629178843b4ed182d51db1fa07f43fb5d21fc43c95d547dfd84b82c8b517d1b","transform":"Identity"},\n        {"key":"hash-f7826252f74e69ccb17f6a1ca08e5bd5b04ffb6e3de204881b21b91b75578f1c","transform":"Identity"},\n        {"key":"hash-e629178843b4ed182d51db1fa07f43fb5d21fc43c95d547dfd84b82c8b517d1b","transform":"Identity"},\n        {"key":"uref-b8c0eae40513588ff2832cc9aec3949736482e95575ec132817e43e758772293-000","transform":"Identity"}\n        ,{"key":"uref-53df18bf01396fbd1ef3a8757c7bdffc684c407d90f2cfeebff166db1d923613-000","transform":"Identity"},\n        {"key":"uref-f268de37fcea55f8fb1abeba8536a1cc041b2aed2691f1cf34aeaaf0ae379aa5-000","transform":"Identity"}\n        ,\n        {"key":"bid-278e5af1ca6cddf5d5438999cb072b47f0d65e1484799f692c3c9c40304be30e","transform":"Identity"},\n        {"key":"bid-278e5af1ca6cddf5d5438999cb072b47f0d65e1484799f692c3c9c40304be30e","transform":\n         {"WriteBid":\n          {"validator_public_key":"0133eaae2821f090ac3ba0eadc0a897742094c0604df72b465c41d4b773298a7b9",\n          "bonding_purse":"uref-136552c255d4d737bf7e43d2be250f9f38691b9fe5d9e34446bff18d6d1cf984-007",\n          "staked_amount":"1000000000000005",\n          "delegation_rate":5,\n          "vesting_schedule":\n           {"initial_release_timestamp_millis":1664475057182,\n            "locked_amounts":null\n           },\n           "delegators":\n            {"012a241eaa9fa3bd6ccb0e0aaaf4658538f3540e04e2f58973614a168f2f2f813d":\n             {"delegator_public_key":"012a241eaa9fa3bd6ccb0e0aaaf4658538f3540e04e2f58973614a168f2f2f813d",\n             "staked_amount":"51312014671568117976319379",\n             "bonding_purse":"uref-c5ad00f9e6b2f2631ca647ad188187e63799a278a0a46ca25f6b4da64d556662-007",\n             "validator_public_key":"0133eaae2821f090ac3ba0eadc0a897742094c0604df72b465c41d4b773298a7b9",\n             "vesting_schedule":\n              {"initial_release_timestamp_millis":1664475057182,\n              "locked_amounts":null\n              }\n             }\n            },\n            "inactive":false\n           }\n          }\n        },\n        {"key":"bid-278e5af1ca6cddf5d5438999cb072b47f0d65e1484799f692c3c9c40304be30e","transform":"Identity"},\n        {"key":"bid-278e5af1ca6cddf5d5438999cb072b47f0d65e1484799f692c3c9c40304be30e","transform":\n         {\n          "WriteBid":\n          {\n            "validator_public_key":"0133eaae2821f090ac3ba0eadc0a897742094c0604df72b465c41d4b773298a7b9",\n            "bonding_purse":"uref-136552c255d4d737bf7e43d2be250f9f38691b9fe5d9e34446bff18d6d1cf984-007",\n            "staked_amount":"56713279373733183026458261",\n            "delegation_rate":5,\n            "vesting_schedule":\n             {"initial_release_timestamp_millis":1664475057182,\n              "locked_amounts":null\n             },\n             "delegators":\n             {"012a241eaa9fa3bd6ccb0e0aaaf4658538f3540e04e2f58973614a168f2f2f813d":\n              {\n              "delegator_public_key":"012a241eaa9fa3bd6ccb0e0aaaf4658538f3540e04e2f58973614a168f2f2f813d",\n              "staked_amount":"51312014671568117976319379",\n              "bonding_purse":"uref-c5ad00f9e6b2f2631ca647ad188187e63799a278a0a46ca25f6b4da64d556662-007",\n              "validator_public_key":"0133eaae2821f090ac3ba0eadc0a897742094c0604df72b465c41d4b773298a7b9",\n              "vesting_schedule":\n               {"initial_release_timestamp_millis":1664475057182,\n                "locked_amounts":null\n               }\n              }\n             },\n             "inactive":false\n          }\n         }\n        },\n        {"key":"hash-e629178843b4ed182d51db1fa07f43fb5d21fc43c95d547dfd84b82c8b517d1b","transform":"Identity"},\n        {"key":"hash-f7826252f74e69ccb17f6a1ca08e5bd5b04ffb6e3de204881b21b91b75578f1c","transform":"Identity"},\n        {"key":"hash-e629178843b4ed182d51db1fa07f43fb5d21fc43c95d547dfd84b82c8b517d1b","transform":"Identity"},\n        {"key":"balance-136552c255d4d737bf7e43d2be250f9f38691b9fe5d9e34446bff18d6d1cf984","transform":"Identity"},\n        {"key":"balance-136552c255d4d737bf7e43d2be250f9f38691b9fe5d9e34446bff18d6d1cf984","transform":\n         {"AddUInt512":"56713279372733183026458256"}\n        },\n        {"key":"uref-b8c0eae40513588ff2832cc9aec3949736482e95575ec132817e43e758772293-000","transform":\n         {"AddUInt512":"56713279372733183026458256"}\n        },\n        {"key":"hash-e629178843b4ed182d51db1fa07f43fb5d21fc43c95d547dfd84b82c8b517d1b","transform":"Identity"},\n        {"key":"hash-f7826252f74e69ccb17f6a1ca08e5bd5b04ffb6e3de204881b21b91b75578f1c","transform":"Identity"},\n        {"key":"hash-e629178843b4ed182d51db1fa07f43fb5d21fc43c95d547dfd84b82c8b517d1b","transform":"Identity"},\n        {"key":"balance-c5ad00f9e6b2f2631ca647ad188187e63799a278a0a46ca25f6b4da64d556662","transform":"Identity"},\n        {"key":"balance-c5ad00f9e6b2f2631ca647ad188187e63799a278a0a46ca25f6b4da64d556662","transform":\n        {"AddUInt512":"51312014670568117976319374"}\n        },\n        {"key":"uref-b8c0eae40513588ff2832cc9aec3949736482e95575ec132817e43e758772293-000","transform":\n         {"AddUInt512":"51312014670568117976319374"}\n        },\n        {"key":"bid-d46667cb14c87f508064a87577e5687c97f1a09292a2f9fa7d2af8db2aca79cd","transform":"Identity"},\n        {"key":"bid-d46667cb14c87f508064a87577e5687c97f1a09292a2f9fa7d2af8db2aca79cd","transform":\n         {"WriteBid":\n          {"validator_public_key":"01383e13ca5587745b54bade75e947cfe81293d5477d659708dd1d6fb744882931",\n          "bonding_purse":"uref-3f92eb17ebd3503ffe1c642ae078b3397710dae0b4050ab369315032427d0281-007",\n          "staked_amount":"1000000000000001",\n          "delegation_rate":1,\n          "vesting_schedule":\n           {"initial_release_timestamp_millis":1664475057182,\n           "locked_amounts":null\n           },\n          "delegators":\n           {"0134811b4d572d84f289a576f110ad49aa8bb984235b2bf1cb47a0c2f7e4391bef":\n            {"delegator_public_key":"0134811b4d572d84f289a576f110ad49aa8bb984235b2bf1cb47a0c2f7e4391bef",\n            "staked_amount":"53472520552166781393617757",\n            "bonding_purse":"uref-5918746f209867d13c2ddb73b04b8ffc0f7d788445571978ef198d3a9b985c7b-007",\n            "validator_public_key":"01383e13ca5587745b54bade75e947cfe81293d5477d659708dd1d6fb744882931",\n            "vesting_schedule":\n             {"initial_release_timestamp_millis":1664475057182,\n             "locked_amounts":null\n             }\n            }\n           },\n           "inactive":false\n           }\n          }},\n          {"key":"bid-d46667cb14c87f508064a87577e5687c97f1a09292a2f9fa7d2af8db2aca79cd","transform":"Identity"},\n          {"key":"bid-d46667cb14c87f508064a87577e5687c97f1a09292a2f9fa7d2af8db2aca79cd","transform":\n           {"WriteBid":\n           {"validator_public_key":"01383e13ca5587745b54bade75e947cfe81293d5477d659708dd1d6fb744882931",\n           "bonding_purse":"uref-3f92eb17ebd3503ffe1c642ae078b3397710dae0b4050ab369315032427d0281-007",\n           "staked_amount":"54552773492594393138943368",\n           "delegation_rate":1,\n           "vesting_schedule":\n            {"initial_release_timestamp_millis":1664475057182,\n            "locked_amounts":null\n            },\n            "delegators":\n             {"0134811b4d572d84f289a576f110ad49aa8bb984235b2bf1cb47a0c2f7e4391bef":\n              {"delegator_public_key":"0134811b4d572d84f289a576f110ad49aa8bb984235b2bf1cb47a0c2f7e4391bef",\n               "staked_amount":"53472520552166781393617757",\n               "bonding_purse":"uref-5918746f209867d13c2ddb73b04b8ffc0f7d788445571978ef198d3a9b985c7b-007",\n               "validator_public_key":"01383e13ca5587745b54bade75e947cfe81293d5477d659708dd1d6fb744882931",\n               "vesting_schedule":\n               {"initial_release_timestamp_millis":1664475057182,"locked_amounts":null}\n              },\n              "inactive":false\n             }\n            }},\n            {"key":"hash-e629178843b4ed182d51db1fa07f43fb5d21fc43c95d547dfd84b82c8b517d1b","transform":"Identity"}\n            ,{"key":"hash-f7826252f74e69ccb17f6a1ca08e5bd5b04ffb6e3de204881b21b91b75578f1c","transform":"Identity"},\n            {"key":"hash-e629178843b4ed182d51db1fa07f43fb5d21fc43c95d547dfd84b82c8b517d1b","transform":"Identity"}\n            ,{"key":"balance-3f92eb17ebd3503ffe1c642ae078b3397710dae0b4050ab369315032427d0281","transform":"Identity"},\n            {"key":"balance-3f92eb17ebd3503ffe1c642ae078b3397710dae0b4050ab369315032427d0281","transform":{"AddUInt512":"54552773491594393138943367"}},\n            {"key":"uref-b8c0eae40513588ff2832cc9aec3949736482e95575ec132817e43e758772293-000","transform":{"AddUInt512":"54552773491594393138943367"}},\n            {"key":"hash-e629178843b4ed182d51db1fa07f43fb5d21fc43c95d547dfd84b82c8b517d1b","transform":"Identity"}\n            ,\n            {"key":"hash-f7826252f74e69ccb17f6a1ca08e5bd5b04ffb6e3de204881b21b91b75578f1c","transform":"Identity"}\n            ,\n            {"key":"hash-e629178843b4ed182d51db1fa07f43fb5d21fc43c95d547dfd84b82c8b517d1b","transform":"Identity"}\n            ,\n            {"key":"balance-5918746f209867d13c2ddb73b04b8ffc0f7d788445571978ef198d3a9b985c7b","transform":"Identity"},\n            {"key":"balance-5918746f209867d13c2ddb73b04b8ffc0f7d788445571978ef198d3a9b985c7b","transform":{"AddUInt512":"53472520551166781393617756"}},\n            {"key":"uref-b8c0eae40513588ff2832cc9aec3949736482e95575ec132817e43e758772293-000","transform":{"AddUInt512":"53472520551166781393617756"}},\n            {"key":"bid-2cf608f36591a31d31190f87e994c93a60078a401d34bb938f26d407d159ddfa","transform":"Identity"},\n            {"key":"bid-2cf608f36591a31d31190f87e994c93a60078a401d34bb938f26d407d159ddfa","transform":\n             {"WriteBid":\n              {\n               "validator_public_key":"013d3fb7e3ceac62a900d7e868db0a4c3c8bde6dce873c3f06bf50638d91422857",\n              "bonding_purse":"uref-ba36249da22aedc3850ce0bb8839ef850d916b816560160cfe7b64d32dad3870-007",\n              "staked_amount":"1000000000000004",\n              "delegation_rate":4,\n              "vesting_schedule":\n               {\n                "initial_release_timestamp_millis":1664475057182,\n                "locked_amounts":null},\n                "delegators":\n                 {"01bd050d6229789059571b51df753bb8beb883fde2fd727183574291d938187016":\n                  {"delegator_public_key":"01bd050d6229789059571b51df753bb8beb883fde2fd727183574291d938187016",\n                  "staked_amount":"51852141141784624481333266",\n                  "bonding_purse":"uref-ab81a8a4823cbb1d3214e6eaaa5db1cd80d3a47c0d5c2297aa57f65e338f1646-007",\n                  "validator_public_key":"013d3fb7e3ceac62a900d7e868db0a4c3c8bde6dce873c3f06bf50638d91422857",\n                  "vesting_schedule":\n                   {"initial_release_timestamp_millis":1664475057182,\n                   "locked_amounts":null\n                   }\n                  }\n                 },\n                 "inactive":false\n               }\n              }\n            },\n            {"key":"bid-2cf608f36591a31d31190f87e994c93a60078a401d34bb938f26d407d159ddfa","transform":"Identity"},{"key":"bid-2cf608f36591a31d31190f87e994c93a60078a401d34bb938f26d407d...\n'))),(0,f.kt)("br",null),(0,f.kt)("p",null,"Fields to note:"),(0,f.kt)("ul",null,(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#eraid"},"era_id")," - A period of time used to specify events in a blockchain."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#executioneffect"},"execution_effect")," - The journal of execution transforms from a single Deploy."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#operation"},"operations")," - Operations performed while executing a deploy."),(0,f.kt)("li",{parentName:"ul"},(0,f.kt)("a",{parentName:"li",href:"/concepts/serialization-standard#transform"},"transform")," - The actual transformation performed while executing a deploy.")),(0,f.kt)("h4",{id:"shutdown-events"},"Shutdown Events"),(0,f.kt)("p",null,"A ",(0,f.kt)("inlineCode",{parentName:"p"},"Shutdown")," event is emitted when the node is about to shut down, usually for an upgrade. This causes a termination of the event stream since the server is shutting down. The following example contains the JSON representation of the ",(0,f.kt)("inlineCode",{parentName:"p"},"Shutdown")," event structure."),(0,f.kt)("details",null,(0,f.kt)("summary",null,"Shutdown event example"),(0,f.kt)("pre",null,(0,f.kt)("code",{parentName:"pre",className:"language-bash"},'data:"Shutdown"\nid:1107\n'))),(0,f.kt)("br",null),(0,f.kt)("h2",{id:"replaying-the-event-stream"},"Replaying the Event Stream"),(0,f.kt)("p",null,"This command will replay the event stream from an old event onward. Replace the HOST, EVENT_TYPE, and ID fields with the values needed."),(0,f.kt)("pre",null,(0,f.kt)("code",{parentName:"pre",className:"language-bash"},"curl -sN http://<HOST>:9999/events/<EVENT_TYPE>?start_from=<ID>\n")),(0,f.kt)("p",null,(0,f.kt)("em",{parentName:"p"},"Example:")),(0,f.kt)("pre",null,(0,f.kt)("code",{parentName:"pre",className:"language-bash"},"curl -sN http://65.21.235.219:9999/events/main?start_from=29267508\n")),(0,f.kt)("p",null,"Each URL can have a query string added, such as ",(0,f.kt)("inlineCode",{parentName:"p"},"?start_from=<ID>"),", where ID is an integer representing an old event ID. With this query, you can replay the event stream from that old event onward. The server will replay all the cached events if you specify an event ID that has already been purged from the cache."),(0,f.kt)("admonition",{type:"note"},(0,f.kt)("p",{parentName:"admonition"},"The server keeps only a limited number of events cached to allow replaying the stream to clients using the ",(0,f.kt)("inlineCode",{parentName:"p"},"?start_from=")," query string. The cache size can be set differently on each node using the ",(0,f.kt)("inlineCode",{parentName:"p"},"event_stream_buffer_length")," value in the ",(0,f.kt)("em",{parentName:"p"},"config.toml"),". By default, it is only 5000. The intended use case is to allow a client consuming the event stream to reconnect (if it loses its connection) and catch up with the events emitted while it was disconnected.")))}m.isMDXComponent=!0}}]);